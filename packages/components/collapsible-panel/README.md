<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->
<!-- This file is created by the `yarn generate-readme` script. -->

# CollapsiblePanel

## Description

A panel to collapse and expand your content.

The component can be used in a controlled or uncontrolled manner. Please refer to the [React documentation](https://reactjs.org/docs/forms.html#controlled-components) if you are unsure what either or entails.

> Please have a look at the [Component Best Practices](<(#component-best-practices)>) to ensure that you are using the component as intended from a development and UX perspective.

## Installation

```
yarn add @commercetools-uikit/collapsible-panel
```

```
npm --save install @commercetools-uikit/collapsible-panel
```

Additionally install the peer dependencies (if not present)

```
yarn add react
```

```
npm --save install react
```

## Usage

```jsx
import React from 'react';
import CollapsiblePanel from '@commercetools-uikit/collapsible-panel';
import Spacings from '@commercetools-uikit/spacings';
import Text from '@commercetools-uikit/text';

const Example = () => (
  <Spacings.Stack>
    {/* // 1. Uncontrolled
//   The `CollapsiblePanel` controls its own state. You do not pass handlers or state related props. */}
    <CollapsiblePanel header="Lorem">
      <Text.Detail>Hello World</Text.Detail>
    </CollapsiblePanel>;{/* // 2. Controlled
//   You control the `CollapsiblePanel`. You do pass handlers or state related props.
//   Assume the parent rendering the `CollapsiblePanel` has `isPanelOpen` as state and a `togglePanel` as a handler. */}
    <CollapsiblePanel
      isClosed={this.state.isPanelOpen}
      onToggle={this.togglePanel}
      header="Lorem"
    >
      <Text.Detail>Hello World</Text.Detail>
    </CollapsiblePanel>
    ;
  </Spacings.Stack>
);

export default Example;
```

## Properties

| Props                     | Type                                                  | Required | Default      | Description                                                                                                                                                                                 |
| ------------------------- | ----------------------------------------------------- | :------: | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                      | `string`                                              |          | `uniqueId()` | An unique id for the panel header, which will also be used to generate a prefixed id for the panel content section.<br/> Read about `getPanelContentId` below for more about this.          |
| `header`                  | `node`                                                |    âœ…    |              | The title being rendered at top left of the panel                                                                                                                                           |
| `secondaryHeader`         | `node`                                                |          |              | A secondary header for the panel (only pass if needed)                                                                                                                                      |
| `description`             | `string`                                              |          |              | If passed will be shown below the title as more information regarding the panel                                                                                                             |
| `className`               | `string`                                              |          |              |                                                                                                                                                                                             |
| `isSticky`                | `bool`                                                |          |              | Makes the panel's header sticky in regards to the page's scroll                                                                                                                             |
| `headerControls`          | `node`                                                |          |              | Controls at the top right part of the panel                                                                                                                                                 |
| `isDisabled`              | `bool`                                                |          | `false`      | Disables the panel and all interactions with it                                                                                                                                             |
| `children`                | `node`                                                |          |              | The actual content rendered inside the panel                                                                                                                                                |
| `tone`                    | `enum`<br>Possible values:<br>`'urgent' \| 'primary'` |          |              |                                                                                                                                                                                             |
| `theme`                   | `enum`<br>Possible values:<br>`'dark' \| 'light'`     |          | `'dark'`     | The main color combination of the for the panel header and container                                                                                                                        |
| `condensed`               | `bool`                                                |          | `false`      | Whenever `true` the headers and content itself will consume less space in that to the borders are smaller and everything has less padding                                                   |
| `hideExpansionControls`   | `bool`                                                |          |              | Controls the visibility of the expansion controls on the left                                                                                                                               |
| `headerControlsAlignment` | `enum`<br>Possible values:<br>`'left' \| 'right'`     |          | `'right'`    |                                                                                                                                                                                             |
| `isDefaultClosed`         | `custom`                                              |          |              | Indicates if the panel's content should be collapsed or shown by default.<br /> Updates to this value are not respected. Only used for **uncontrolled** mode (when no`onToggle` is passed.) |
| `isClosed`                | `bool`                                                |          |              | Indicates if the panel's content should be collapsed or shown.<br /> Component becomes \*_controlled_ when this is passed.                                                                  |
| `onToggle`                | `custom`                                              |          |              | function to be triggered whenever the user clicks the top area to collapse the panel's content<br /> Becomes required when `isClosed` is passed. <br /> Signature: `() => void`             |

## Where to use

Whenever some content on a given page should be concealed and/or expandible. This often holds true for instance for detailed but hidden information of some entity to save space.

**Header**

The header of this component should follow our design and UX conventions so it looks the same across the application. It accepts a `node` to accompany the two scenarios:

1. Given the `CollapsiblePanel` is _condensed_

Whenever the component is configured to be `condensed` all content pased via the `header` will be wrapped in a `<Text.Detail />`. For this use case please ensure that _no combinations of components_ are passed via the `header`.

```js
import CollapsiblePanel from '@commercetools-uikit/collapsible-panel';

<CollapsiblePanel condensed={true} header={'My title'}>
  <YourComponentAsContentOfThePanel />
</CollapsiblePanel>;
```

2. Given the `CollapsiblePanel` is _not condensed_

For this use case you will need to explicitly pass the `header` wrapped by the `<CollapsiblePanel.Header />` component to automatically ensure it follows our designs (enforced by the `<CollapsiblePanel.Header />`).

```js
import CollapsiblePanel from '@commercetools-uikit/collapsible-panel';

<CollapsiblePanel
  header={
    <CollapsiblePanel.Header>
      <FormattedMessage {...messages.title} />
    </CollapsiblePanel.Header>
  }
>
  <YourComponentAsContentOfThePanel />
</CollapsiblePanel>;
```

3. Passing a combination of components (e.g. label and input)

Rendering any input(s) inside the `header` is allowed, but there are certain contraints that need to be taken into account:

- You can only render a _maximum amount of 3_ components inside the `header`.
- Given a combination of label and input
  - Then the input's _label should be bold_ and the _input only a `<TextInput />`_
- All has to be _vertically aligned_ in the `header` container.

**Theme**

The component supports themes (dark and light) to enable nesting of collapsible panels inside one another.

- Given the background of the parent is `dark`
  - Then the child needs to be `light` for better accessibility and visibility

**Condensed**

There are a some restrictions given using `condensed={true}`

1. Nothing complex is passed as the `header`

- Nor button or inputs or anything that is not within title itself

2. The title should be only (if possible) be a string or a combination or text components

- Everything is automatically wrapped within a `<Text.Detail />`

**SecondaryHeader**

The `secondaryHeader` allow rendering some secondary information in addition to the title.

It accepts a `node` but with few restrictions:

1. _Bold text is allowed_ while the text component is `<Text.Detail />`
1. Text size should not exceed the font size of `<Text.Detail />`

**headerControls**

The `headerControls` allows rendering a component which should only contain buttons or links. Apart from that there is one more limitation:

1. You can only render a _maximum amount of 3 button_ inside the `headerControls`

## Static methods

### `CollapsiblePanel.getPanelContentId`

Returns the generated `id` used for the wrapper of the panel content section. It is used for setting the `aria-controls` attribute on the header and can also be useful for finding the child element when testing.

```js
CollapsiblePanel.getPanelContentId('example'); // -> panel-content-example
```
