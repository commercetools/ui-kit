# Contributing SVG Icons

## How svg's are defined and built

All icons that are available in UI Kit are stored as `*.react.svg` files in the `src/svg` folder. This folder is meant to be the single source of truth for all icons.

To make the svg files consumable by react applications, we run each icon in `src/svg` through [svgr](https://react-svgr.com/docs/cli/). Svgr uses a custom template defined in `svgr.config.js` to transpile each svg into a react component defined in `src/generated`.

Each `tsx` file generated by svgr in `src/generated` is specified as an entrypoint in preconstruct in order to allow for [tree shaking](https://webpack.js.org/guides/tree-shaking/) of individual icons in applications that consume them.

For all icons to have an entrypoint in the `icons` package, there must be a folder in `./generated` for each icon that contains a `package.json` file and `dist/` folder. Preconstruct handles adding this folder for any `tsx` file that does not have one when you run `preconstruct dev` or `yarn build` from the root of this repository.

### Adding an svg

- Add the svg markup to `./src/svg`. For example, `./src/svg/aatest.react.svg`.
- Run `yarn build` from the root of the application.
- Say yes to the prompt that asks: `? @commercetools-uikit/icons/generated/AatestReact A package.json file does not exist for this entrypoint, would you like to create one automatically? (Y/n) `.

### Updating an svg

- update the svg file in `./src/svg`
- run `yarn build` from the repository root

### Deleting an svg

- delete the svg from `./src/svg`
- delete the `./generated` and `./src/generated` folders. This insures that the deleted icon does not persist in the generated files.
- run `yarn build`
- Hit `a` to select all packages when the prompt asks `üéÅ ? A package.json file does not exist for this entrypoint, would you like to create one automatically? ‚Ä¶ `. This insures that there is an entrypoint package for each icon in `src/generated`.
